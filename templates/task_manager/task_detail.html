{% extends "base.html" %}

{% block body %} class="bg-gray-900" {% endblock body %}

{% block content %}
  <div class="container-md mt-7">
    <div class="row">
      <div class="col-lg-10 mx-auto">
        <div class="mb-4 w-100 text-center">
          <h3 class="text-white">
            {{ task }} ({{ task.task_type }})
            <a href="{% url 'task_manager:task-update' pk=task.id %}" class="card-link link-secondary ">[Edit]</a>
          </h3>
        </div>
        <div class="container py-2">
          <div class="row">
            <div class="card col-lg-12 mx-auto">
              <div class="card-body">
                <h5 class="card-title"> Priority: {{ task.get_priority_display }}</h5>
                <h6 class="card-subtitle mb-2 text-primary">Deadline: {{ task.deadline }}</h6>
                <p class="card-text">Description: {{ task.description }}</p>

                <a href="{% url 'task_manager:task-delete' pk=task.id %}" type="button" class="btn btn-outline-danger">Delete</a>
              </div>
            </div>
          </div>
        </div>

        <div class="container py-2">
          <div class="mb-4 w-100 ">
            <h5 class="text-white">Performs the task</h5>
          </div>
          <div class="row">
            <div class="card col-lg-12 mx-auto">
              <div class="card-body">
                {% for worker in task.assignees.all %}
                  <h5 class="card-title">{{ worker }}</h5>
                  <p class="card-text">Position: {{ worker.position }}</p>
                {% empty %}
                  <p>Not workers</p>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}